<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../lib/font-awesome-4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../lib/bootstrap-validator/css/bootstrapValidator.min.css">
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="../css/gateWay.css">
  <title>网关管理</title>
</head>
<body>
  <!-- <div class="header">
    <div class="header_left">
      <ul>
        
      </ul>
    </div>
    <div class="header_right">
      <span class="username"></span>
      <span class="setDate"></span>
      <span class="fa fa-times" title="退出" onclick="logout()"></span>
    </div>
  </div> -->
  <div class="mian">
    <form class="form-inline" autocomplete="off" >
      <div class="form-group">
        <label style="color: #ccc;">接入网关名称:</label>
        <input style="color: #ccc;" type="text" class="form-control" id="keyWord"  placeholder="请输入网关名称">
      </div>
      <button type="button" class="btn btn-primary" onclick="searchByKeyWord()">查询</button>
    </form>

    <div class="container-fluid">
      <button class="btn btn-primary"  data-toggle="modal" data-target="#addGateWay">新增网关</button>
      <div>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>网关名称</th>
              <th>平台接入方式</th>
              <th>SIP端口地址</th>
              <th>SIP服务器地址</th>
              <th>SIP服务器域</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>
      <nav>
        <ul class="pagination">

        </ul>
      </nav>
    </div>
  </div>

  <!-- 新增网关模态框 -->
  <div class="modal fade" id="addGateWay">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">新增网关</h4>
        </div>
        <div class="modal-body">
          <form autocomplete="off" id="addForm">
            <div class="form-group">
              <label>网关名称</label>
              <input type="text" class="form-control" name="gatewayName" id="addGatewayName">
            </div>
            <div class="form-group">
              <label>视频通道编码ID</label>
              <input type="text" class="form-control" name="channelCodingId" id="addChannelCodingId">
            </div>
            <div class="form-group">
              <label>平台接入方式</label>
              <input type="text" class="form-control" name="connectType" id="addConnectType">
            </div>
            <div class="form-group">
              <label>本地SIP端口</label>
              <input type="text" class="form-control" name="nativeSipPort" id="addNativeSipPort">
            </div>
            <div class="form-group">
              <label>SIP服务器ID</label>
              <input type="text" class="form-control" name="sipServerId" id="addSipServerId">
            </div>
            <div class="form-group">
              <label>SIP服务器域</label>
              <input type="text" class="form-control" name="sipServerRegion" id="addSipServerRegion">
            </div>
            <div class="form-group">
              <label>SIP服务器地址</label>
              <input type="text" class="form-control" name="sipServerAddress" id="addSipServerAddress">
            </div>
            <div class="form-group">
              <label>SIP服务器端口</label>
              <input type="text" class="form-control" name="sipServerPort" id="addSipServerPort">
            </div>
            <div class="form-group">
              <label>SIP用户名</label>
              <input type="text" class="form-control" name="sipUserName" id="addSipUserName">
            </div>
            <div class="form-group">
              <label>密码</label>
              <input type="password" class="form-control" name="password" id="addPassword">
            </div>
            <div class="form-group">
              <label>确认密码</label>
              <input type="password" class="form-control" name="confirmPassword" id="addConfirmPassword">
            </div>
            <div class="form-group">
              <label>注册有效期</label>
              <input type="text" class="form-control" name="registerValidity" id="addRegisterValidity">
            </div>
            <div class="form-group">
              <label>心跳周期</label>
              <input type="text" class="form-control" name="heartbeatCycle" id="addHeartbeatCycle">
            </div>
            <div class="form-group">
              <label>最大心跳超时次数</label>
              <input type="text" class="form-control" name="heartbeatNumber" id="addHeartbeatNumber">
            </div>
            <div class="form-group">
              <label>速度类型(速率/倍率)</label>
              <select class="form-control allGroups" name="speedType" id="addSpeedType">
                <option value="速率">速率</option>
                <option value="倍率">倍率</option>
              </select>
              <!-- <input type="text" class="form-control" name="speedType" id="addSpeedType"> -->
            </div>
            <div class="form-group">
              <label>倍率/速率</label>
              <input type="text" class="form-control" name="rate" id="addRate">
            </div>
            <div class="form-group">
              <label>视频通道编码ID</label>
              
              <input type="text" class="form-control" name="sipUserId" id="addSipUserId">
            </div>
            <div class="modal-footer">
              <input type="submit" class="btn btn-primary" value="添加" >
              <input type="button" class="btn btn-default" data-dismiss="modal" value="取消">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- 修改网关 -->
  <div class="modal fade" id="updateGateway">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">编辑网关</h4>
        </div>
        <div class="modal-body">
          <form autocomplete="off" id="updateForm">
            <input type="hidden" name='id' id="gateId">
            <div class="form-group">
              <label>网关名称</label>
              <input type="text" class="form-control" name="gatewayName" id="gatewayName">
            </div>
            <div class="form-group">
              <label>视频通道编码ID</label>
              <input type="text" class="form-control" name="channelCodingId" id="channelCodingId">
            </div>
            <div class="form-group">
              <label>平台接入方式</label>
              <input type="text" class="form-control" name="connectType" id="connectType">
            </div>
            <div class="form-group">
              <label>本地SIP端口</label>
              <input type="text" class="form-control" name="nativeSipPort" id="nativeSipPort">
            </div>
            <div class="form-group">
              <label>SIP服务器ID</label>
              <input type="text" class="form-control" name="sipServerId" id="sipServerId">
            </div>
            <div class="form-group">
              <label>SIP服务器域</label>
              <input type="text" class="form-control" name="sipServerRegion" id="sipServerRegion">
            </div>
            <div class="form-group">
              <label>SIP服务器地址</label>
              <input type="text" class="form-control" name="sipServerAddress" id="sipServerAddress">
            </div>
            <div class="form-group">
              <label>SIP服务器端口</label>
              <input type="text" class="form-control" name="sipServerPort" id="sipServerPort">
            </div>
            <div class="form-group">
              <label>SIP用户名</label>
              <input type="text" class="form-control" name="sipUserName" id="sipUserName">
            </div>
            <div class="form-group">
              <label>密码</label>
              <input type="password" class="form-control" name="password" id="password">
            </div>
            <div class="form-group">
              <label>确认密码</label>
              <input type="password" class="form-control" name="confirmPassword" id="confirmPassword">
            </div>
            <div class="form-group">
              <label>注册有效期</label>
              <input type="text" class="form-control" name="registerValidity" id="registerValidity">
            </div>
            <div class="form-group">
              <label>心跳周期</label>
              <input type="text" class="form-control" name="heartbeatCycle" id="heartbeatCycle">
            </div>
            <div class="form-group">
              <label>最大心跳超时次数</label>
              <input type="text" class="form-control" name="heartbeatNumber" id="heartbeatNumber">
            </div>
            <div class="form-group">
              <label>速度类型(速率/倍率)</label>
              <select class="form-control allGroups" id="speedType" name="speedType">
                <option value="速率">速率</option>
                <option value="倍率">倍率</option>
              </select>
              <!-- <input type="text" class="form-control" name="speedType" id="speedType"> -->
            </div>
            <div class="form-group">
              <label>倍率/速率</label>
              <input type="text" class="form-control" name="rate" id="rate">
            </div>
            <div class="form-group">
              <label>视频通道编码ID</label>
              <input type="text" class="form-control" name="sipUserId" id="sipUserId">
            </div>
            <div class="modal-footer">
              <input type="submit" class="btn btn-primary" value="保存" >
              <input type="button" class="btn btn-default" data-dismiss="modal" value="取消">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- 网关详情 -->
  <div class="modal fade bs-example-modal-sm" id="gateWayDetail" tabindex="-1">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">网关详情</h4>
        </div>
        <div class="modal-body" >
          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">确定</button>
        </div>
      </div>
    </div>
  </div>

  <script type="text/html" id="gateWayList">
    {{each list}}
      <tr>
        <td>{{$value.gatewayName}}</td>
        <td>{{$value.connectType}}</td>
        <td>{{$value.nativeSipPort}}</td>
        <td>{{$value.sipServerAddress}}</td>
        <td>{{$value.sipServerRegion}}</td>
        <td>
          <span data-id='{{$value.id}}' onclick='gateWayDetail(this)'>详情</span>
          <span data-id='{{$value.id}}' onclick='removeGateWay(this)'>移除</span>
          <span data-id='{{$value.id}}' onclick='updateModal(this)'>修改</span>
        </td>
      </tr>
    {{/each}}
  </script>

  <script type="text/html" id="detail">
    <ul>
      <li><span>网关名称:</span>{{gatewayName}}</li>
      <li><span>平台接入方式:</span>{{connectType}}</li>
      <li><span>本地SIP端口:</span>{{nativeSipPort}}</li>
      <li><span>SIP服务器ID:</span>{{sipServerId}}</li>
      <li><span>SIP服务器域:</span>{{sipServerRegion}}</li>
      <li><span>SIP服务器地址:</span>{{sipServerAddress}}</li>
      <li><span>SIP服务器端口:</span>{{sipServerPort}}</li>
      <li><span>SIP用户名:</span>{{sipUserName}}</li>
      <li><span>SIP用户认证ID:</span>{{sipUserId}}</li>
      <li><span>心跳周期:</span>{{heartbeatCycle}}</li>
      <li><span>最大心跳超时次数:</span>{{heartbeatNumber}}</li>
      <li><span>速度类型(速率/倍率):</span>{{speedType}}</li>
      <li><span>视频通道编码ID:</span>{{channelCodingId}}</li>
      <li><span>视频通道编码ID:</span>{{createTime}}</li>
      <li><span>上次更新时间:</span>{{lastUpdateTime}}</li>
    </ul>
  </script>

  <script type="text/html" id="menuList">
    <li><a href="./workDesk.html">工作台</a> </li>
    {{each list}}
      <li class="{{$value.name== '网关管理' ? 'active' : ''}}"><a href="./{{$value.url}}">{{$value.name}}</a></li>
    {{/each}}
  </script>

  <script src="../lib/jquery1.10.2.js"></script>
  <script src="../lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="../lib/bootstrap-validator/js/bootstrapValidator.js"></script>
  <script src="../lib/bootstrap-paginator/bootstrap-paginator.min.js"></script>
  <script src="../lib/template.js"></script>
  <script src="../js/baseUrl.js"></script>
  <script src="../js/gateWay.js"></script>
</body>
</html>